var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function a(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function l(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}function p(t){return""===t?null:+t}function v(t,e){t.value=null==e?"":e}let _;function g(t){_=t}function b(t){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(t)}const m=[],y=[];let $=[];const x=[],w=Promise.resolve();let k=!1;function E(t){$.push(t)}const O=new Set;let S=0;function C(){if(0!==S)return;const t=_;do{try{for(;S<m.length;){const t=m[S];S++,g(t),j(t.$$)}}catch(t){throw m.length=0,S=0,t}for(g(null),m.length=0,S=0;y.length;)y.pop()();for(let t=0;t<$.length;t+=1){const e=$[t];O.has(e)||(O.add(e),e())}$.length=0}while(m.length);for(;x.length;)x.pop()();k=!1,O.clear(),g(t)}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const z=new Set;function N(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];$.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),$=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function A(t,e){-1===t.$$.dirty[0]&&(m.push(t),k||(k=!0,w.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(r,i,s,u,l,f,d,h=[-1]){const p=_;g(r);const v=r.$$={fragment:null,ctx:[],props:f,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(p?p.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:i.target||p.$$.root};d&&d(v.root);let b=!1;if(v.ctx=s?s(r,i.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return v.ctx&&l(v.ctx[t],v.ctx[t]=o)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](o),b&&A(r,t)),e})):[],v.update(),b=!0,o(v.before_update),v.fragment=!!u&&u(v.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);v.fragment&&v.fragment.l(t),t.forEach(c)}else v.fragment&&v.fragment.c();i.intro&&((m=r.$$.fragment)&&m.i&&(z.delete(m),m.i(y))),function(t,n,r,i){const{fragment:c,after_update:s}=t.$$;c&&c.m(n,r),i||E((()=>{const n=t.$$.on_mount.map(e).filter(a);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(E)}(r,i.target,i.anchor,i.customElement),C()}var m,y;g(p)}class L{$destroy(){N(this,1),this.$destroy=t}$on(e,n){if(!a(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function T(e){let n,a,r,_,g,b,m,y,$,x,w,k,E,O,S,C,j,z,N,A,J,L,T,P,M,R,Y,q,B,G,H,K,Q,U,V,W,X,Z,tt,et,nt,ot,at,rt,it,ct,st,ut,lt,ft,dt,ht,pt,vt,_t,gt,bt;return vt=h(e[14][0]),_t=h(e[14][1]),{c(){n=s("main"),a=s("div"),r=u("Language:\n        "),_=s("label"),g=s("input"),b=u(" English"),m=l(),y=s("label"),$=s("input"),x=u(" Japanese"),w=l(),k=s("div"),E=u("under "),O=s("input"),S=l(),C=s("div"),j=u("over "),z=s("input"),N=l(),A=s("div"),J=u("Sort Order:\n        "),L=s("label"),T=s("input"),P=u(" DESC"),M=l(),R=s("label"),Y=s("input"),q=u(" ASC"),B=l(),G=s("div"),H=s("textarea"),K=l(),Q=s("button"),Q.textContent="COPY",U=l(),V=s("button"),V.textContent="COPY",W=l(),X=s("button"),X.textContent="CLEAR",Z=l(),tt=s("button"),tt.textContent="Save",et=l(),nt=s("button"),nt.textContent="Load",ot=l(),at=s("button"),at.textContent="Initialize Database",rt=l(),it=s("div"),ct=s("textarea"),st=l(),ut=s("textarea"),lt=l(),ft=s("div"),dt=s("button"),dt.textContent="Sign In with Google",ht=l(),pt=s("button"),pt.textContent="Sign Out",d(g,"type","radio"),g.__value="en",g.value=g.__value,d($,"type","radio"),$.__value="ja",$.value=$.__value,d(O,"type","number"),d(O,"min","1"),d(z,"type","number"),d(z,"min","1"),d(T,"type","radio"),T.__value="desc",T.value=T.__value,d(Y,"type","radio"),Y.__value="asc",Y.value=Y.__value,d(H,"cols","50"),d(H,"rows","10"),d(H,"placeholder","foo bar foo baz"),d(Q,"class","btn svelte-12ev08h"),d(Q,"data-clipboard-target","#bar"),d(V,"class","btn svelte-12ev08h"),d(V,"data-clipboard-target","#baz"),d(X,"class","btn svelte-12ev08h"),d(tt,"class","btn svelte-12ev08h"),d(nt,"class","btn svelte-12ev08h"),d(at,"class","btn svelte-12ev08h"),d(ct,"id","bar"),d(ct,"cols","20"),d(ct,"rows","10"),ct.readOnly=!0,d(ut,"id","baz"),d(ut,"cols","20"),d(ut,"rows","10"),ut.readOnly=!0,d(dt,"class","btn svelte-12ev08h"),d(pt,"class","btn svelte-12ev08h"),vt.p(T,Y),_t.p(g,$)},m(t,o){!function(t,e,n){t.insertBefore(e,n||null)}(t,n,o),i(n,a),i(a,r),i(a,_),i(_,g),g.checked=g.__value===e[6],i(_,b),i(a,m),i(a,y),i(y,$),$.checked=$.__value===e[6],i(y,x),i(n,w),i(n,k),i(k,E),i(k,O),v(O,e[1]),i(n,S),i(n,C),i(C,j),i(C,z),v(z,e[0]),i(n,N),i(n,A),i(A,J),i(A,L),i(L,T),T.checked=T.__value===e[5],i(L,P),i(A,M),i(A,R),i(R,Y),Y.checked=Y.__value===e[5],i(R,q),i(n,B),i(n,G),i(G,H),v(H,e[2]),i(G,K),i(G,Q),i(G,U),i(G,V),i(G,W),i(G,X),i(G,Z),i(G,tt),i(G,et),i(G,nt),i(G,ot),i(G,at),i(n,rt),i(n,it),i(it,ct),v(ct,e[3]),i(it,st),i(it,ut),v(ut,e[4]),i(n,lt),i(n,ft),i(ft,dt),i(ft,ht),i(ft,pt),gt||(bt=[f(g,"change",e[13]),f(g,"change",e[9]),f($,"change",e[15]),f($,"change",e[9]),f(O,"input",e[16]),f(O,"input",e[8]),f(z,"input",e[17]),f(z,"input",e[8]),f(T,"change",e[18]),f(T,"change",e[8]),f(Y,"change",e[19]),f(Y,"change",e[8]),f(H,"input",e[20]),f(H,"input",e[7]),f(X,"click",e[10]),f(tt,"click",e[11]),f(nt,"click",e[12]),f(at,"click",F),f(ct,"input",e[21]),f(ut,"input",e[22]),f(dt,"click",D),f(pt,"click",I)],gt=!0)},p(t,[e]){64&e&&(g.checked=g.__value===t[6]),64&e&&($.checked=$.__value===t[6]),2&e&&p(O.value)!==t[1]&&v(O,t[1]),1&e&&p(z.value)!==t[0]&&v(z,t[0]),32&e&&(T.checked=T.__value===t[5]),32&e&&(Y.checked=Y.__value===t[5]),4&e&&v(H,t[2]),8&e&&v(ct,t[3]),16&e&&v(ut,t[4])},i:t,o:t,d(t){t&&c(n),vt.r(),_t.r(),gt=!1,o(bt)}}}const P="https://cotton-concrete-catsup.glitch.me";async function D(){}async function I(){}async function F(){const t=prompt("Enter password to initialize the database:");try{const e=await fetch(`${P}/api/init-database-lexis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t})}),n=await e.text();console.log(n);try{const t=JSON.parse(n);e.ok?alert(t.message):alert(t.error)}catch(t){console.error("Failed to parse JSON:",t),alert("Error initializing database. Response was not in JSON format.")}}catch(t){console.error("Error initializing database:",t),alert("Error initializing database.")}}function M(t,e,n){let o=1,a=1,r="",i="",c="",s="desc",u="en",l=[];function f(){let t;var e;"ja"===u?(e=r.trim(),t=(new TinySegmenter).segment(e)):t=r.trim().split(/[\s\n]+/);const o=t.reduce(((t,e)=>(t[e]=(t[e]||0)+1,t)),{});l=Object.entries(o),n(1,a=Math.max(1,...l.map((t=>t[1])))),d()}function d(){const t=l.filter((t=>t[1]<=a&&t[1]>=o)),e="desc"===s?t.sort(((t,e)=>e[1]-t[1])):t.sort(((t,e)=>t[1]-e[1]));n(3,i=e.map((t=>t[0])).join("\n")),n(4,c=e.map((t=>t[1])).join("\n"))}function h(){n(2,r="ja"===u?constitution_of_japan:english_text),f()}b((()=>{new ClipboardJS(".btn"),h()}));return[o,a,r,i,c,s,u,f,d,h,function(){confirm("Are you sure you want to clear the text?")&&(n(2,r=""),n(3,i=""),n(4,c=""))},async function(){try{const t=await fetch(`${P}/api/lexis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lexis:r,created:(new Date).toISOString(),updated:(new Date).toISOString()})}),e=await t.json();console.log("Lexis created successfully:",e)}catch(t){console.error("Error creating lexis:",t)}},async function(){try{const t=await fetch(`${P}/api/lexis`),e=await t.json();l=e,console.log("Lexis retrieved successfully:",e)}catch(t){console.error("Error retrieving lexis:",t)}},function(){u=this.__value,n(6,u)},[[],[]],function(){u=this.__value,n(6,u)},function(){a=p(this.value),n(1,a)},function(){o=p(this.value),n(0,o)},function(){s=this.__value,n(5,s)},function(){s=this.__value,n(5,s)},function(){r=this.value,n(2,r)},function(){i=this.value,n(3,i)},function(){c=this.value,n(4,c)}]}return new class extends L{constructor(t){super(),J(this,t,M,T,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
